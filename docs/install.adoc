= Installation, Release, Deployment

.Local install (_click here_)
[%collapsible]
==========
[source,console]
#=====================
#***Full install***
#INSTALL_STEPS: The full is 1,2,3,4, or as many as you have, or you can give that step(s) you want!
#                    if you leave it empty, the default is 1,2,3,4!
#INSTALL_PGTOOLS: In case of locale Postgresql development, this installer automatically installs the PG_TOOLS as well in step2!
#   You can turn it off with the value=0
#AUTO_INSTALL: at the moment you can use postgresql or oracle  
#in case of server install, you must use the DEFAULT and PROJECT parameters (_example of their usage -> below at the embed section_).
#   INSTALL_URL_ADMIN
#   INSTALL_URL_PROJECT
#   INSTALL_USERNAME_ADMIN
#   INSTALL_USERNAME_PROJECT
#   INSTALL_PASSWORD_ADMIN
#   INSTALL_PASSWORD_PROJECT
#=====================
docker run -it --rm \
  --network=dookug-local-network \
  -e AUTO_INSTALL=postgresql \
  -e INSTALL_STEPS=1,2,3,4 \
  -e INSTALL_USERNAME_PROJECT=project_user_name \
  icellmobilsoft/dookug_db:2.0.0-SNAPSHOT
==========

** How "embed" Dookug DB into other "host" DB (_install Dookug-db dookug schema into other DB_):    

.Embed DookuG in to other DB (_click here_)
[%collapsible]
==========
[source,bash]
#---------------------  
#Postgres and Linux:
#in case of locale install, you don't need to use the DEFAULT and PROJECT parameters b/c they have default values in setups.
#AUTO_INSTALL: at the moment you can use postgresql or oracle  
#INSTALL_PGTOOLS: if you want to install postgres partition manager (in case of partitioned tables), You need to use this parameter and assign 1, otherwise set it to 0!
#                 if you use this parameter, the 2nd installation step is mandatory in INSTALL_STEPS env. variable! 
#                 of course, if you already installed this in the host DB, you don't need to use this parameter once again! 
#CREATE_DATABASE: When embedding this DookuG installer into another (host) DB, set this to false to avoid creating an empty database.
#---------------------  
docker run -it --rm \
  --network=host-local-network \
  -e AUTO_INSTALL=postgresql \
  -e DATABASE_NAME=host_db \
  -e INSTALL_URL_ADMIN=jdbc:postgresql://host_db-postgredb:port_num/postgres \
  -e INSTALL_URL_PROJECT=jdbc:postgresql://host_db-postgredb:port_num/host_db \
  -e INSTALL_USERNAME_ADMIN=postgres \
  -e INSTALL_PASSWORD_ADMIN=passw_from_secret \
  -e INSTALL_USERNAME_PROJECT=project_user_name \
  -e INSTALL_PASSWORD_PROJECT=passw_from_secret \
  -e CREATE_DATABASE=false \
  -e INSTALL_STEPS=1,2,3,4 \
  -e INSTALL_SCHEMA=dookug_schema_name \
  -e INSTALL_PGTOOLS=0 \
  icellmobilsoft/dookug_db:2.0.0-SNAPSHOT
==========      

#on windows: the "\" needs to be changed to "`"!

:embedded_dookug_db_into_taxi_db: embedded_dookug_db_into_taxi_db.png
image::{embedded_dookug_db_into_taxi_db}[DookuG is embedded in to Taxi DB,link="{imagesdir}/{embedded_dookug_db_into_taxi_db}",window=_blank]

:embedded_dookug_db_in_cron_jobs: embedded_dookug_db_in_cron_jobs.png
image::{embedded_dookug_db_in_cron_jobs}[DookuG Service register in CRON,link="{imagesdir}/{embedded_dookug_db_in_cron_jobs}",window=_blank]

** optional environment variable, only needed during password change:
[source,bash]
----
  -e DB_SERVICE_USER_PASSWORD=<service user passw>
----